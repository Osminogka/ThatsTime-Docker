{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-f42b29ac\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"group-info-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 2\n};\nconst _hoisted_4 = {\n  class: \"friend-info-header\"\n};\nconst _hoisted_5 = {\n  class: \"info-header\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"info-header\"\n}, \"Members\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"members-container\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"There are no records yet\", -1 /* HOISTED */));\nconst _hoisted_11 = [_hoisted_10];\nconst _hoisted_12 = {\n  key: 1\n};\nconst _hoisted_13 = {\n  key: 3\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"not-your-friend\"\n}, \"You are not member of such group\", -1 /* HOISTED */));\nconst _hoisted_15 = [_hoisted_14];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, _toDisplayString($setup.error), 1 /* TEXT */)])) : $setup.loading ? (_openBlock(), _createBlock($setup[\"LoadingAnimation\"], {\n    key: 1\n  })) : $setup.infoAboutGroup.isMember ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.route.params.groupname), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, \"Created by: \" + _toDisplayString($setup.infoAboutGroup.Creator), 1 /* TEXT */), _hoisted_6, _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.infoAboutGroup.members, (member, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: _normalizeClass([\"member-enitity\", {\n        'member-entity-last': member === $setup.infoAboutGroup.members[$setup.infoAboutGroup.members.length - 1]\n      }]),\n      key: index\n    }, [_createElementVNode(\"p\", null, _toDisplayString(member), 1 /* TEXT */), $setup.infoAboutGroup.isCreator ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"remove-friend-button\",\n      onClick: $event => _ctx.removeMember(member)\n    }, \"Remove\", 8 /* PROPS */, _hoisted_8)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))]), $setup.infoAboutGroup.records.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [..._hoisted_11])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.infoAboutGroup.records, (record, index) => {\n    return _openBlock(), _createBlock($setup[\"RecordCard\"], {\n      key: index,\n      record: record\n    }, null, 8 /* PROPS */, [\"record\"]);\n  }), 128 /* KEYED_FRAGMENT */))]))])) : _createCommentVNode(\"v-if\", true), !$setup.infoAboutGroup.isMember ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [..._hoisted_15])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementVNode","_hoisted_10","_hoisted_14","_createElementBlock","_hoisted_1","$setup","error","_hoisted_2","_toDisplayString","loading","_createBlock","infoAboutGroup","isMember","_hoisted_3","_hoisted_4","route","params","groupname","_hoisted_5","Creator","_hoisted_6","_hoisted_7","_Fragment","_renderList","members","member","index","_normalizeClass","length","isCreator","onClick","$event","_ctx","removeMember","_hoisted_8","_createCommentVNode","records","_hoisted_9","_hoisted_11","_hoisted_12","record","_hoisted_13","_hoisted_15"],"sources":["/home/osminogka/Desktop/Programming/ThatsTime/vueapp/src/components/MoreGroup.vue"],"sourcesContent":["<script setup>\nimport('../assets/css/loadingAnimation.css');\n\nimport { ref, reactive, watch, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\n\nimport { getRecordsWithGroup } from '../core/userRecords';\n\nimport RecordCard from '@/view/RecordCard.vue';\nimport LoadingAnimation from '@/view/LoadingAnimation.vue';\n\nconst route = useRoute();\n\nconst infoAboutGroup = reactive({\n    isMember: true,\n    isCreator: false,\n    Creator: '',\n    members: [],\n    records: []\n});\nconst error = ref(null);\nconst loading = ref(false);\n\nconst groupName = ref(route.params.groupname);\n\nonMounted(async () => {\n    await fetchData();\n});\n\nwatch(() => route.params.groupname, async (groupname) =>{\n    groupName.value = groupname;\n    await fetchData();\n    }\n);\n\nasync function fetchData() {\n    error.value = null;\n    loading.value = true;\n    try{\n        let newData = await new Promise((resolve, reject) => {\n            setTimeout(async () => {\n                try {\n                    const data = await getRecordsWithGroup(route.params.groupname);\n                    resolve(data);\n                } catch (e) {\n                    reject(e);\n                }\n            }, 2000); // 2000 ms delay\n        });\n        // Clear the current object\n        for (let key in infoAboutGroup) {\n            delete infoAboutGroup[key];\n        }\n        // Add new properties\n        for (let key in newData) {\n            infoAboutGroup[key] = newData[key];\n        }\n    } catch (e) {\n        error.value = e;\n    }finally{\n        loading.value = false;\n    }\n}\n</script>\n\n<template>\n    <div class=\"group-info-container\">\n        <div v-if=\"error\">\n            <p>{{ error }}</p>\n        </div>\n        <loading-animation v-else-if=\"loading\" />\n        <div v-else-if=\"infoAboutGroup.isMember\">\n            <div class=\"friend-info-header\">{{ route.params.groupname }}</div>\n            <div class=\"info-header\">Created by: {{ infoAboutGroup.Creator }}</div>\n            <div class=\"info-header\">Members</div>\n            <div class=\"members-container\">\n                <div class=\"member-enitity\" v-for=\"(member, index) in infoAboutGroup.members\" \n                    :class=\"{'member-entity-last': member === infoAboutGroup.members[infoAboutGroup.members.length - 1]}\" :key=\"index\">\n                    <p>{{ member }}</p>\n                    <button class=\"remove-friend-button\" v-if=\"infoAboutGroup.isCreator\" @click=\"removeMember(member)\">Remove</button>\n                </div>\n            </div>\n            <div v-if=\"infoAboutGroup.records.length === 0\">\n                <p>There are no records yet</p>\n            </div>\n            <div v-else>\n                <record-card v-for=\"(record, index) in infoAboutGroup.records\" :key=\"index\" :record=\"record\" />\n            </div>\n        </div>\n        <div v-if=\"!infoAboutGroup.isMember\">\n            <h1 class=\"not-your-friend\">You are not member of such group</h1>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n\n.group-info-container{\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n}\n\n.members-container{\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-top: 10px;\n    align-items: stretch;\n    border: 5px solid black;\n    border-radius: 5px;\n    background-color: white;\n    padding-left: 10px;\n    font-size: 1.2em;\n    padding-right: 10px;\n    max-height: 250px;\n    overflow-y: auto;\n    max-width: 70%;\n}\n\n.friend-info-header{\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 20px;\n}\n\n.not-your-friend{\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 20px;\n    text-align: center;\n}\n\n.member-enitity{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid black;\n    margin-top: 10px;\n    padding-left: 10px;\n    padding-right: 10px;\n}\n\n.member-enitity-last{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border: none;\n}\n\n.info-header{\n    font-size: 1.2em;\n    font-family: 'Brush Script MT', cursive;\n    font-weight: bold;\n}\n\n.remove-friend-button{\n\n}\n\n</style>"],"mappings":";;;EAkESA,KAAK,EAAC;AAAsB;;EAlErCC,GAAA;AAAA;;EAAAA,GAAA;AAAA;;EAwEiBD,KAAK,EAAC;AAAoB;;EAC1BA,KAAK,EAAC;AAAa;gEACxBE,mBAAA,CAAsC;EAAjCF,KAAK,EAAC;AAAa,GAAC,SAAO;;EAC3BA,KAAK,EAAC;AAAmB;mBA3E1C;;EAAAC,GAAA;AAAA;iEAmFgBC,mBAAA,CAA+B,WAA5B,0BAAwB;qBAA3BC,WAA+B,C;;EAnF/CF,GAAA;AAAA;;EAAAA,GAAA;AAAA;iEA0FYC,mBAAA,CAAiE;EAA7DF,KAAK,EAAC;AAAiB,GAAC,kCAAgC;qBAA5DI,WAAiE,C;;uBAxBzEC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBSC,MAAA,CAAAC,KAAK,I,cAAhBH,mBAAA,CAEM,OArEdI,UAAA,GAoEYP,mBAAA,CAAkB,WAAAQ,gBAAA,CAAZH,MAAA,CAAAC,KAAK,iB,KAEeD,MAAA,CAAAI,OAAO,I,cAArCC,YAAA,CAAyCL,MAAA;IAtEjDN,GAAA;EAAA,MAuEwBM,MAAA,CAAAM,cAAc,CAACC,QAAQ,I,cAAvCT,mBAAA,CAiBM,OAxFdU,UAAA,GAwEYb,mBAAA,CAAkE,OAAlEc,UAAkE,EAAAN,gBAAA,CAA/BH,MAAA,CAAAU,KAAK,CAACC,MAAM,CAACC,SAAS,kBACzDjB,mBAAA,CAAuE,OAAvEkB,UAAuE,EAA9C,cAAY,GAAAV,gBAAA,CAAGH,MAAA,CAAAM,cAAc,CAACQ,OAAO,kBAC9DC,UAAsC,EACtCpB,mBAAA,CAMM,OANNqB,UAMM,I,kBALFlB,mBAAA,CAIMmB,SAAA,QAhFtBC,WAAA,CA4EsElB,MAAA,CAAAM,cAAc,CAACa,OAAO,EA5E5F,CA4EoDC,MAAM,EAAEC,KAAK;yBAAjDvB,mBAAA,CAIM;MAJDL,KAAK,EA5E1B6B,eAAA,EA4E2B,gBAAgB;QAAA,sBACQF,MAAM,KAAKpB,MAAA,CAAAM,cAAc,CAACa,OAAO,CAACnB,MAAA,CAAAM,cAAc,CAACa,OAAO,CAACI,MAAM;MAAA;MAAS7B,GAAG,EAAE2B;QAC5G1B,mBAAA,CAAmB,WAAAQ,gBAAA,CAAbiB,MAAM,kBAC+BpB,MAAA,CAAAM,cAAc,CAACkB,SAAS,I,cAAnE1B,mBAAA,CAAkH;MA/EtIJ,GAAA;MA+E4BD,KAAK,EAAC,sBAAsB;MAAkCgC,OAAK,EAAAC,MAAA,IAAEC,IAAA,CAAAC,YAAY,CAACR,MAAM;OAAG,QAAM,iBA/E7HS,UAAA,KAAAC,mBAAA,e;oCAkFuB9B,MAAA,CAAAM,cAAc,CAACyB,OAAO,CAACR,MAAM,U,cAAxCzB,mBAAA,CAEM,OApFlBkC,UAAA,MAAAC,WAAA,O,cAqFYnC,mBAAA,CAEM,OAvFlBoC,WAAA,I,kBAsFgBpC,mBAAA,CAA+FmB,SAAA,QAtF/GC,WAAA,CAsFuDlB,MAAA,CAAAM,cAAc,CAACyB,OAAO,EAtF7E,CAsFqCI,MAAM,EAAEd,KAAK;yBAAlChB,YAAA,CAA+FL,MAAA;MAA/BN,GAAG,EAAE2B,KAAK;MAAGc,MAAM,EAAEA;;yCAtFrGL,mBAAA,gB,CAyFoB9B,MAAA,CAAAM,cAAc,CAACC,QAAQ,I,cAAnCT,mBAAA,CAEM,OA3FdsC,WAAA,MAAAC,WAAA,MAAAP,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}