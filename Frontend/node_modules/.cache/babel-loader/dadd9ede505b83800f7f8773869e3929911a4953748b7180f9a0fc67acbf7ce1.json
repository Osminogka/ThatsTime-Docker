{"ast":null,"code":"import { useModel as _useModel, mergeModels as _mergeModels } from 'vue';\nimport { ref, computed, defineModel, onMounted } from 'vue';\nimport { todayDate } from '@/core/month';\nimport { shortMonthNames } from '@/core/month';\nexport default {\n  __name: 'DateSelector',\n  props: /*#__PURE__*/_mergeModels({\n    type: String\n  }, {\n    \"modelValue\": {},\n    \"modelModifiers\": {}\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const model = _useModel(__props, \"modelValue\");\n    const daysInSelectedMonth = computed(() => {\n      const selectedMonth = shortMonthNames.indexOf(model.value);\n      const selectedYear = model.value;\n      const lastDayOfMonth = new Date(selectedYear, selectedMonth + 1, 0).getDate();\n      return lastDayOfMonth;\n    });\n    onMounted(() => {\n      if (props.type === 'day') {\n        model.value = todayDate.getDate();\n      } else if (props.type === 'month') {\n        model.value = shortMonthNames[todayDate.getMonth()];\n      } else if (props.type === 'year') {\n        model.value = todayDate.getFullYear();\n      }\n    });\n    function prevDay() {\n      if (model.value > 1) model.value--;else model.value = daysInSelectedMonth.value;\n    }\n    function nextDay() {\n      if (model.value < daysInSelectedMonth.value) model.value++;else model.value = 1;\n    }\n    function nextMonth() {\n      const index = shortMonthNames.indexOf(model.value);\n      if (index < 11) model.value = shortMonthNames[index + 1];else model.value = shortMonthNames[0];\n    }\n    function prevMonth() {\n      const index = shortMonthNames.indexOf(model.value);\n      if (index > 0) model.value = shortMonthNames[index - 1];else model.value = shortMonthNames[11];\n    }\n    function nextYear() {\n      if (model.value < todayDate.getFullYear() + 10) model.value++;else model.value = todayDate.getFullYear() - 10;\n    }\n    function prevYear() {\n      if (model.value > todayDate.getFullYear() - 10) model.value--;else model.value = todayDate.getFullYear() + 10;\n    }\n    let timer = ref(null);\n    function startAutoDay(isNextDayCalled) {\n      let func = () => isNextDayCalled ? nextDay() : prevDay();\n      func();\n      timer.value = setInterval(() => {\n        func();\n      }, 200); // Call increment every 500ms\n    }\n    function stopAutoDay() {\n      clearInterval(timer.value);\n    }\n    function startAutoMonth(isNextMonthCalled) {\n      let func = () => isNextMonthCalled ? nextMonth() : prevMonth();\n      func();\n      timer.value = setInterval(() => {\n        func();\n      }, 200);\n    }\n    function stopAutoMonth() {\n      clearInterval(timer.value);\n    }\n    function startAutoYear(isNextYearCalled) {\n      let func = () => isNextYearCalled ? nextYear() : prevYear();\n      func();\n      timer.value = setInterval(() => {\n        func();\n      }, 200);\n    }\n    function stopAutoYear() {\n      clearInterval(timer.value);\n    }\n    const __returned__ = {\n      props,\n      model,\n      daysInSelectedMonth,\n      prevDay,\n      nextDay,\n      nextMonth,\n      prevMonth,\n      nextYear,\n      prevYear,\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      startAutoDay,\n      stopAutoDay,\n      startAutoMonth,\n      stopAutoMonth,\n      startAutoYear,\n      stopAutoYear,\n      ref,\n      computed,\n      defineModel,\n      onMounted,\n      get todayDate() {\n        return todayDate;\n      },\n      get shortMonthNames() {\n        return shortMonthNames;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","defineModel","onMounted","todayDate","shortMonthNames","props","__props","model","_useModel","daysInSelectedMonth","selectedMonth","indexOf","value","selectedYear","lastDayOfMonth","Date","getDate","type","getMonth","getFullYear","prevDay","nextDay","nextMonth","index","prevMonth","nextYear","prevYear","timer","startAutoDay","isNextDayCalled","func","setInterval","stopAutoDay","clearInterval","startAutoMonth","isNextMonthCalled","stopAutoMonth","startAutoYear","isNextYearCalled","stopAutoYear"],"sources":["/home/osminogka/Desktop/Programming/ThatsTime/vueapp/src/view/DateSelector.vue"],"sourcesContent":["<script setup>\nimport { defineProps, ref, computed, defineModel, onMounted } from 'vue';\nimport { todayDate } from '@/core/month';\nimport { shortMonthNames } from '@/core/month';\n\nconst props = defineProps({\n    type: String\n});\n\nconst model = defineModel();\n\nconst daysInSelectedMonth = computed(() => {\n    const selectedMonth = shortMonthNames.indexOf(model.value);\n    const selectedYear = model.value;\n    const lastDayOfMonth = new Date(selectedYear, selectedMonth + 1, 0).getDate();\n    return lastDayOfMonth;\n});\n\nonMounted(() =>{\n    if(props.type === 'day'){\n        model.value = todayDate.getDate();\n    } else if(props.type === 'month'){\n        model.value = shortMonthNames[todayDate.getMonth()];\n    } else if(props.type === 'year'){\n        model.value = todayDate.getFullYear();\n    }\n})\n\nfunction prevDay(){\n    if(model.value > 1)\n        model.value--;\n    else\n        model.value = daysInSelectedMonth.value;\n}\n\nfunction nextDay(){\n    if(model.value < daysInSelectedMonth.value)\n        model.value++;\n    else\n        model.value = 1;\n}\n\nfunction nextMonth(){\n    const index = shortMonthNames.indexOf(model.value);\n    if(index < 11)\n        model.value = shortMonthNames[index + 1];\n    else\n        model.value = shortMonthNames[0];\n}\n\nfunction prevMonth(){\n    const index = shortMonthNames.indexOf(model.value);\n    if(index > 0)\n        model.value = shortMonthNames[index - 1];\n    else\n        model.value = shortMonthNames[11];\n}\n\nfunction nextYear(){\n    if(model.value < todayDate.getFullYear() + 10)\n        model.value++;\n    else\n        model.value = todayDate.getFullYear() - 10;\n}\n\nfunction prevYear(){\n    if(model.value > todayDate.getFullYear() - 10)\n        model.value--;\n    else\n        model.value = todayDate.getFullYear() + 10;\n}\n\nlet timer = ref(null);\n\nfunction startAutoDay(isNextDayCalled) {\n    let func = () => isNextDayCalled? nextDay() : prevDay();\n    func();\n    \n    timer.value = setInterval(() => {func()}, 200); // Call increment every 500ms\n}\nfunction stopAutoDay() {\n    clearInterval(timer.value);\n}\n\nfunction startAutoMonth(isNextMonthCalled) {\n    let func = () => isNextMonthCalled? nextMonth() : prevMonth();\n    func();\n    timer.value = setInterval(() => {func()}, 200);\n}\nfunction stopAutoMonth() {\n    clearInterval(timer.value);\n}\n\nfunction startAutoYear(isNextYearCalled) {\n    let func = () => isNextYearCalled? nextYear() : prevYear();\n    func();\n    timer.value = setInterval(() => {func()}, 200);\n}\nfunction stopAutoYear() {\n    clearInterval(timer.value);\n}\n\n</script>\n\n<template>\n    <div class=\"container-date-select\">\n        <input v-if=\"type === 'day'\" v-model=\"model\" class=\"record-date-selector\" placeholder=\"DD\" type=\"number\"/>\n        <div v-else-if=\"type === 'month'\" class=\"record-date-selector\" placeholder=\"MM\" type=\"text\">{{ model }}</div>\n        <div v-else-if=\"type === 'year'\" class=\"record-date-selector\" placeholder=\"YYYY\" type=\"number\">{{ model }}</div>\n        <div class=\"container-record-button\" v-if=\"type === 'day'\">\n            <button @mousedown=\"startAutoDay(true)\" @mouseup=\"stopAutoDay\" class=\"up-button custom-button\"></button>\n            <button  @mousedown=\"startAutoDay(false)\" @mouseup=\"stopAutoYear\" class=\"down-button custom-button\"></button>\n        </div>\n        <div class=\"container-record-button\" v-else-if=\"type === 'month'\">\n            <button @mousedown=\"startAutoMonth(true)\" @mouseup=\"stopAutoMonth\" class=\"up-button custom-button\"></button>\n            <button @mousedown=\"startAutoMonth(false)\" @mouseup=\"stopAutoYear\" class=\"down-button custom-button\"></button>\n        </div>\n        <div class=\"container-record-button\" v-else-if=\"type === 'year'\">\n            <button @mousedown=\"startAutoYear(true)\" @mouseup=\"stopAutoYear\" class=\"up-button custom-button\"></button>\n            <button @mousedown=\"startAutoYear(false)\" @mouseup=\"stopAutoYear\" class=\"down-button custom-button\"></button>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n\n.up-button{\n    background-image: url('../assets/svg/Records/uparrow.svg');\n    background-color: white;\n    width: 1.5em;\n    height: 1.5em;\n}\n\n.down-button{\n    background-image: url('../assets/svg/Records/downarrow.svg');\n    background-color: white;\n    width: 1.5em;\n    height: 1.5em;\n}\n\n.container-record-button{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin: 10px;\n}\n\n.container-record-button > * {\n  display: block; /* Add this line */\n}\n\n.container-date-select{\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n}\n\n.record-date-selector{\n    background-color: #55FFEF;\n    border-style: solid;\n    border-color: black;\n    border-radius: 0.5em;\n    border-width: 0.15em;\n    padding: 0.5em;\n    width: 2.2em;\n    height: 1em;\n}\n\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=\"number\"] {\n  -moz-appearance: textfield;\n}\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}