{"ast":null,"code":"import { ref, reactive, watch, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { getRecordsWithGroup } from '../core/userRecords';\nimport RecordCard from '@/view/RecordCard.vue';\nimport LoadingAnimation from '@/view/LoadingAnimation.vue';\nexport default {\n  __name: 'MoreGroup',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    import('../assets/css/loadingAnimation.css');\n    const route = useRoute();\n    const infoAboutGroup = reactive({\n      isMember: true,\n      isCreator: false,\n      Creator: '',\n      members: [],\n      records: []\n    });\n    const error = ref(null);\n    const loading = ref(false);\n    const groupName = ref(route.params.groupname);\n    onMounted(async () => {\n      await fetchData();\n    });\n    watch(() => route.params.groupname, async groupname => {\n      groupName.value = groupname;\n      await fetchData();\n    });\n    async function fetchData() {\n      error.value = null;\n      loading.value = true;\n      try {\n        let newData = await new Promise((resolve, reject) => {\n          setTimeout(async () => {\n            try {\n              const data = await getRecordsWithGroup(route.params.groupname);\n              resolve(data);\n            } catch (e) {\n              reject(e);\n            }\n          }, 2000); // 2000 ms delay\n        });\n        // Clear the current object\n        for (let key in infoAboutGroup) {\n          delete infoAboutGroup[key];\n        }\n        // Add new properties\n        for (let key in newData) {\n          infoAboutGroup[key] = newData[key];\n        }\n      } catch (e) {\n        error.value = e;\n      } finally {\n        loading.value = false;\n      }\n    }\n    const __returned__ = {\n      route,\n      infoAboutGroup,\n      error,\n      loading,\n      groupName,\n      fetchData,\n      ref,\n      reactive,\n      watch,\n      onMounted,\n      get useRoute() {\n        return useRoute;\n      },\n      get getRecordsWithGroup() {\n        return getRecordsWithGroup;\n      },\n      RecordCard,\n      LoadingAnimation\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","watch","onMounted","useRoute","getRecordsWithGroup","RecordCard","LoadingAnimation","route","infoAboutGroup","isMember","isCreator","Creator","members","records","error","loading","groupName","params","groupname","fetchData","value","newData","Promise","resolve","reject","setTimeout","data","e","key"],"sources":["/home/osminogka/Desktop/Programming/ThatsTime/vueapp/src/components/MoreGroup.vue"],"sourcesContent":["<script setup>\nimport('../assets/css/loadingAnimation.css');\n\nimport { ref, reactive, watch, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\n\nimport { getRecordsWithGroup } from '../core/userRecords';\n\nimport RecordCard from '@/view/RecordCard.vue';\nimport LoadingAnimation from '@/view/LoadingAnimation.vue';\n\nconst route = useRoute();\n\nconst infoAboutGroup = reactive({\n    isMember: true,\n    isCreator: false,\n    Creator: '',\n    members: [],\n    records: []\n});\nconst error = ref(null);\nconst loading = ref(false);\n\nconst groupName = ref(route.params.groupname);\n\nonMounted(async () => {\n    await fetchData();\n});\n\nwatch(() => route.params.groupname, async (groupname) =>{\n    groupName.value = groupname;\n    await fetchData();\n    }\n);\n\nasync function fetchData() {\n    error.value = null;\n    loading.value = true;\n    try{\n        let newData = await new Promise((resolve, reject) => {\n            setTimeout(async () => {\n                try {\n                    const data = await getRecordsWithGroup(route.params.groupname);\n                    resolve(data);\n                } catch (e) {\n                    reject(e);\n                }\n            }, 2000); // 2000 ms delay\n        });\n        // Clear the current object\n        for (let key in infoAboutGroup) {\n            delete infoAboutGroup[key];\n        }\n        // Add new properties\n        for (let key in newData) {\n            infoAboutGroup[key] = newData[key];\n        }\n    } catch (e) {\n        error.value = e;\n    }finally{\n        loading.value = false;\n    }\n}\n</script>\n\n<template>\n    <div class=\"group-info-container\">\n        <div v-if=\"error\">\n            <p>{{ error }}</p>\n        </div>\n        <loading-animation v-else-if=\"loading\" />\n        <div v-else-if=\"infoAboutGroup.isMember\">\n            <div class=\"friend-info-header\">{{ route.params.groupname }}</div>\n            <div class=\"info-header\">Created by: {{ infoAboutGroup.Creator }}</div>\n            <div class=\"info-header\">Members</div>\n            <div class=\"members-container\">\n                <div class=\"member-enitity\" v-for=\"(member, index) in infoAboutGroup.members\" :key=\"index\">\n                    <p>{{ member }}</p>\n                    <button class=\"remove-friend-button\" v-if=\"infoAboutGroup.isCreator\" @click=\"removeMember(member)\">Remove</button>\n                </div>\n            </div>\n            <div v-if=\"infoAboutGroup.records.length === 0\">\n                <p>There are no records yet</p>\n            </div>\n            <div v-else>\n                <record-card v-for=\"(record, index) in infoAboutGroup.records\" :key=\"index\" :record=\"record\" />\n            </div>\n        </div>\n        <div v-if=\"!infoAboutGroup.isMember\">\n            <h1 class=\"not-your-friend\">You are not member of such group</h1>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n\n.group-info-container{\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n}\n\n.members-container{\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-top: 10px;\n    align-items: stretch;\n    border: 5px solid black;\n    border-radius: 5px;\n    background-color: white;\n    padding-left: 10px;\n    font-size: 1.2em;\n    padding-right: 10px;\n    max-height: 250px;\n    overflow-y: auto;\n    max-width: 70%;\n}\n\n.friend-info-header{\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 20px;\n}\n\n.not-your-friend{\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 20px;\n    text-align: center;\n}\n\n.member-enitity{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid black;\n    margin-top: 10px;\n    padding-left: 10px;\n    padding-right: 10px;\n}\n\n.info-header{\n    font-size: 1.2em;\n    font-family: 'Brush Script MT', cursive;\n    font-weight: bold;\n}\n\n.remove-friend-button{\n\n}\n\n</style>"],"mappings":"AAGA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,SAAS,QAAQ,KAAK;AACrD,SAASC,QAAQ,QAAQ,YAAY;AAErC,SAASC,mBAAmB,QAAQ,qBAAqB;AAEzD,OAAOC,UAAU,MAAM,uBAAuB;AAC9C,OAAOC,gBAAgB,MAAM,6BAA6B;;;;;;;IAR1D,MAAM,CAAC,oCAAoC,CAAC;IAU5C,MAAMC,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IAExB,MAAMK,cAAc,GAAGR,QAAQ,CAAC;MAC5BS,QAAQ,EAAE,IAAI;MACdC,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE;IACb,CAAC,CAAC;IACF,MAAMC,KAAK,GAAGf,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMgB,OAAO,GAAGhB,GAAG,CAAC,KAAK,CAAC;IAE1B,MAAMiB,SAAS,GAAGjB,GAAG,CAACQ,KAAK,CAACU,MAAM,CAACC,SAAS,CAAC;IAE7ChB,SAAS,CAAC,YAAY;MAClB,MAAMiB,SAAS,CAAC,CAAC;IACrB,CAAC,CAAC;IAEFlB,KAAK,CAAC,MAAMM,KAAK,CAACU,MAAM,CAACC,SAAS,EAAE,MAAOA,SAAS,IAAI;MACpDF,SAAS,CAACI,KAAK,GAAGF,SAAS;MAC3B,MAAMC,SAAS,CAAC,CAAC;IACjB,CACJ,CAAC;IAED,eAAeA,SAASA,CAAA,EAAG;MACvBL,KAAK,CAACM,KAAK,GAAG,IAAI;MAClBL,OAAO,CAACK,KAAK,GAAG,IAAI;MACpB,IAAG;QACC,IAAIC,OAAO,GAAG,MAAM,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;UACjDC,UAAU,CAAC,YAAY;YACnB,IAAI;cACA,MAAMC,IAAI,GAAG,MAAMtB,mBAAmB,CAACG,KAAK,CAACU,MAAM,CAACC,SAAS,CAAC;cAC9DK,OAAO,CAACG,IAAI,CAAC;YACjB,CAAC,CAAC,OAAOC,CAAC,EAAE;cACRH,MAAM,CAACG,CAAC,CAAC;YACb;UACJ,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;QACd,CAAC,CAAC;QACF;QACA,KAAK,IAAIC,GAAG,IAAIpB,cAAc,EAAE;UAC5B,OAAOA,cAAc,CAACoB,GAAG,CAAC;QAC9B;QACA;QACA,KAAK,IAAIA,GAAG,IAAIP,OAAO,EAAE;UACrBb,cAAc,CAACoB,GAAG,CAAC,GAAGP,OAAO,CAACO,GAAG,CAAC;QACtC;MACJ,CAAC,CAAC,OAAOD,CAAC,EAAE;QACRb,KAAK,CAACM,KAAK,GAAGO,CAAC;MACnB,CAAC,SAAO;QACJZ,OAAO,CAACK,KAAK,GAAG,KAAK;MACzB;IACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}